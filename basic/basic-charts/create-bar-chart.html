<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="http://d3js.org/d3.v3.min.js"></script>
</head>
<body>
<script>
    var data = [5, 15, 20, 22, 30, 11, 30, 8, 25, 7];

    var margin = {
        top: 20,
        left: 20,
        bottom: 20,
        right: 20
    }

    var width = 300;
    var height = 200;
    var padding = 2;

    var container = d3.select("body").append("svg")
            .attr({width: width, height: height});

    container.selectAll("rect").data(data).enter().append("rect")
            .attr({
                width: width / data.length - padding,
                height: function (d) {
                    return d * 4;
                },
                x: function (d, i) {
                    return i * width / data.length;
                },
                y: function (d) {
                    return (d * 4);
                },
                fill: function(d){ return "rgb(0, "+d*5+ ", 0)";}
            });

    container.selectAll("text").data(data).enter().append("text")
            .text(function(d) {return d;})
    .attr({
                x: function(d,i){ return i * (width / data.length) + (width / data.length -padding)/2;},
                y: function(d){ return height - (d*4) +14;},
                fill: "#ffffff",
                "font-family": "sans-serif",
                "text-anchor": "middle"
            });



</script>
</body>
</html>